10 DIM F(1),FA(1),FB(1),FC(1),FD(1),FE(1),FF(1),FG(1),FH(1),FI(1),FJ(1)
11 DIM FK(1),FL(1)
20 DIM F0(1),F1(1),F2(1),F3(1),F4(1),F5(1),F6(1),F7(1),F8(1),F9(1)
30 DIM Z,L,V:GOSUB 580
40 SX=5*8:EX=SX+21*8:SY=4:ZX=SX:ZY=SY
50 PMODE 4,1:PCLS1:SCREEN 1,1
60 'Z$="@ABCDEFGHIJ0123456789":GOSUB 200
70 TIMER=0
75 Z$="hdrABCdlllDEFdlllGHIdlllJKL":GOSUB210
80 Z$="@@@@@@@@@@@@@dl@@@dl@@@dl@@@@@@@@@@@@@@@@@dl@@@dl@@@dl@@@@@@@@@@@@@@@@@dl;":GOSUB210
90 Z$="@@@dl@@@dl@@@@@@@@@@@@@@@@@@dl@@@dl@@@dl@@@@@@@@@@@ul@ul@ul@":GOSUB210
95 IF INKEY$="" THEN 95
96 Z$="c":GOSUB210
97 Z$="hdrABCdlllDEFdlllGHIdlllJKL":GOSUB210
100 Z$="@@@@@@@@@@@@dl@@@dl@@@dl@@@dl@@@dl@@@@@@@@@@@@@@@@dl@@@dl@@@dl@@@dl@@@dl;":GOSUB210
110 Z$="@@@dl@@@dl@@@dl@@@@@@@@@@@@@@@@@@ul@ul@ul@":GOSUB210
115 IF INKEY$="" THEN 115
116 Z$="c":GOSUB210
117 Z$="hdrABCdlllDEFdlllGHIdlllJKL":GOSUB210
120 Z$="@@@@@@@@@dl@@@dl@@@dl@@@uuu@@@dl@@@dl@@@dl@@@@@dl@@@dl@@@dl@@@dl@@@dl@@@dl;":GOSUB210
130 Z$="@@@uuuul@@@dl@@@@@@@dl@@@dl@@@dl@@@dl@@@dl@@@dl@@@dl@@@@@@@@@ul@ul@ul@ul@ul@":GOSUB210
135 IF INKEY$="" THEN 135
136 Z$="c":GOSUB210
140 Z$="@ABBBBBBBBBBBBBBBBBBC@@ DDDDDDDDDDDDDDDDDD @;":GOSUB210
150 FORA=1TO16:Z$="@                    @;":GOSUB210:NEXTA
160 Z$="@GHHHHHHHHHHHHHHHHHHI@@@@@@@@@@@@@@@@@@@@@@@  @                @":GOSUB210
170 Z$=" @@@@@@@@@@@@@@@@@@@@;":GOSUB210
180 PRINT TIMER
190 GOTO 190
200 ' PUT Z$
210 FORZ=1TOLEN(Z$):ZC$=MID$(Z$,Z,1)
220 IFZC$=" "THEN250
230 IFZC$=";"THENRETURN
231 IFZC$="c"THENPCLS1:ZX=SX:ZY=SY:GOTO260
232 IFZC$="h"THENZX=SX:ZY=SY:GOTO260
233 IFZC$="u"THENZY=ZY-8:GOTO260
234 IFZC$="d"THENZY=ZY+8:GOTO260
235 IFZC$="l"THENZX=ZX-8:IFZX<SX THENZX=EX:ZY=ZY-8:GOTO260ELSE260
236 IFZC$="r"THENZX=ZX+8:IFZX>SE THEN ZX=SX:ZY=ZY+8:GOTO260ELSE260
240 ONINSTR("-chudlr@ABCDEFGHIJKL",ZC$)GOSUB280,290,300,310,320,330,350,370,380,390,400,410,420,430,440,450,460,470,475,476
250 ZX=ZX+8:IFZX>EX THENZX=SX:ZY=ZY+8
260 NEXT
270 ZX=SX:ZY=ZY+8:RETURN
280 PRINT"?":RETURN
370 PUT(ZX,ZY)-(ZX+7,ZY+7),F:RETURN
380 PUT(ZX,ZY)-(ZX+7,ZY+7),FA:RETURN
390 PUT(ZX,ZY)-(ZX+7,ZY+7),FB:RETURN
400 PUT(ZX,ZY)-(ZX+7,ZY+7),FC:RETURN
410 PUT(ZX,ZY)-(ZX+7,ZY+7),FD:RETURN
420 PUT(ZX,ZY)-(ZX+7,ZY+7),FE:RETURN
430 PUT(ZX,ZY)-(ZX+7,ZY+7),FF:RETURN
440 PUT(ZX,ZY)-(ZX+7,ZY+7),FG:RETURN
450 PUT(ZX,ZY)-(ZX+7,ZY+7),FH:RETURN
460 PUT(ZX,ZY)-(ZX+7,ZY+7),FI:RETURN
470 PUT(ZX,ZY)-(ZX+7,ZY+7),FJ:RETURN
475 PUT(ZX,ZY)-(ZX+7,ZY+7),FK:RETURN
476 PUT(ZX,ZY)-(ZX+7,ZY+7),FL:RETURN
480 PUT(ZX,ZY)-(ZX+7,ZY+7),F0:RETURN
490 PUT(ZX,ZY)-(ZX+7,ZY+7),F1:RETURN
500 PUT(ZX,ZY)-(ZX+7,ZY+7),F2:RETURN
510 PUT(ZX,ZY)-(ZX+7,ZY+7),F3:RETURN
520 PUT(ZX,ZY)-(ZX+7,ZY+7),F4:RETURN
530 PUT(ZX,ZY)-(ZX+7,ZY+7),F5:RETURN
540 PUT(ZX,ZY)-(ZX+7,ZY+7),F6:RETURN
550 PUT(ZX,ZY)-(ZX+7,ZY+7),F7:RETURN
560 PUT(ZX,ZY)-(ZX+7,ZY+7),F8:RETURN
570 PUT(ZX,ZY)-(ZX+7,ZY+7),F9:RETURN
580 ' LOAD DATA IN TO ARRAYS
590 PRINT "LOADING DATA";
600 L=VARPTR(F(0)):GOSUB 820
610 L=VARPTR(FA(0)):GOSUB 820
620 L=VARPTR(FB(0)):GOSUB 820
630 L=VARPTR(FC(0)):GOSUB 820
640 L=VARPTR(FD(0)):GOSUB 820
650 L=VARPTR(FE(0)):GOSUB 820
660 L=VARPTR(FF(0)):GOSUB 820
670 L=VARPTR(FG(0)):GOSUB 820
680 L=VARPTR(FH(0)):GOSUB 820
690 L=VARPTR(FI(0)):GOSUB 820
700 L=VARPTR(FJ(0)):GOSUB 820
705 L=VARPTR(FK(0)):GOSUB 820
706 L=VARPTR(FL(0)):GOSUB 820
810 RETURN
820 ' READ DATA AND POKE AT L
830 PRINT ".";
839 FOR Z=L TO L+7:READ V:POKE Z,(NOT V)+256:NEXT:RETURN
840 ' SKY-APE-ER CHARS
841 DATA 223,223,223,0,253,253,253,0,0,0,0,0,1,3,3,7,0,60,126,219,129,165,165,129
842 DATA 0,0,0,0,128,192,192,224,31,63,127,255,252,254,127,63,0,126,126,0,255,0,231,231
843 DATA 248,252,254,255,63,127,254,252,15,7,8,30,31,31,31,31,231,219,60,255,126,126
844 DATA 189,195,240,224,16,120,248,248,248,248,31,31,31,15,15,63,127,0,231,129,0,0,129
845 DATA 129,129,0,248,248,248,240,240,252,254,0,12,12,24,47,8,15,82,36,48,48,24,244,16
846 DATA 240,74,36,28,8,28,42,8,20,20,54,12,76,40,47,40,159,82,36
849 ' FACTORY TNT CHARS
850 ' @ - BLOCK
860 DATA 255,255,255,255,255,255,255,255
870 ' A - PIPE LEFT
880 DATA 7,8,200,112,64,112,200,7
890 ' B - PIPE MIDDLE
900 DATA 255,0,24,60,60,24,0,255
910 ' C - PIPE RIGHT
920 DATA 224,16,19,14,2,14,19,224
930 ' D - SPOUT
940 DATA 24,24,36,36,66,126,0,0
950 ' E - BOMB
960 DATA 24,24,60,118,122,126,126,60
970 ' F - BOWL
980 DATA 0,0,255,255,129,129,66,60
990 ' G - CONVEYOR LEFT
1000 DATA 63,64,152,188,188,152,64,63
1010 ' H - CONVEYOR MIDDLE
1020 DATA 255,0,24,60,60,24,0,255
1030 ' I - CONVEYOR RIGHT
1040 DATA 252,2,25,61,61,25,2,252
1050 ' J - MUSHROOM CLOUD
1060 DATA 126,255,255,255,90,24,24,60
1070 ' 0
1080 DATA 62,34,34,34,34,34,62,0
1090 ' 1
1100 DATA 8,8,8,8,8,8,8,0
1110 ' 2
1120 DATA 62,2,2,62,32,32,62,0
1130 ' 3
1140 DATA 62,2,2,62,2,2,62,0
1150 ' 4
1160 DATA 34,34,34,62,2,2,2,0
1170 ' 5
1180 DATA 62,32,32,62,2,2,62,0
1190 ' 6
1200 DATA 62,32,32,62,34,34,62,0
1210 ' 7
1220 DATA 62,2,2,2,2,2,2,0
1230 ' 8
1240 DATA 62,34,34,62,34,34,62,0
1250 ' 9
1260 DATA 62,34,34,62,2,2,62,0
1270 ' 9
1280 DATA 62,34,34,62,2,2,62,0
1290 DATA -1
