0 REM ANDOR16.BAS
1 REM (RLFBERG)
10 DIM BT(15):FOR BT=0 TO 14:BT(BT)=2^BT:NEXT:BT(15)=-32768:
15 Z=0:GOSUB 500:Z=32767:GOSUB 500:Z=32768:GOSUB 500:Z=65535:GOSUB 500
20 INPUT "VALUE     ";V
25 Z=V:GOSUB 500:GOTO 20
30 PRINT "(A/O/N)";
40 A$=INKEY$:IF A$="" THEN 40
50 IF A$="A" THEN M=0:PRINT "AND";:GOTO 90
60 IF A$="O" THEN M=1:PRINT "OR ";:GOTO 90
70 IF A$="N" THEN M=2:PRINT "NOT":GOTO 100
80 SOUND 1,1:GOTO 40
90 INPUT O
95 IF O>32767 THEN O=O-65536
100 PRINT:PRINT "    ";:Z=V:GOSUB 500
105 IF V>32767 THEN V2=V-65535 ELSE V2=V
110 IF M=0 THEN PRINT "AND ";:Z=O:GOSUB 500:Z=V2 AND O:PRINT "    ";:GOSUB 500
120 IF M=1 THEN PRINT "OR  ";:Z=O:GOSUB 500:Z=V2 OR O:PRINT "    ";:GOSUB 500
130 IF M=2 THEN PRINT "NOT ";:Z=NOT V2:GOSUB 500
140 PRINT:GOTO 20

500 REM SHOW Z AS BINARY
501 'IF Z<0 THEN PRINT"1"; ELSE PRINT"0";
505 IF Z>32767 THEN Z2=Z-65536 ELSE Z2=Z
510 FOR BT=15 TO 0 STEP -1
520 IF Z2 AND BT(BT) THEN PRINT "1"; ELSE PRINT "0";
530 NEXT
540 PRINT" ";Z:RETURN
