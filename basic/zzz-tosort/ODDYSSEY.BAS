0 'THE ODDYSSEY - 09/31/86
1 'PROGRAM BY ALLEN HUFFMAN
2 'IDEAS BY A.H. AND PAUL TICE
5 CLEAR1000:DIMM$(75),R$(75),V$(20),O$(20)
6 Z$="================================"
9 'MAP DATA
10 M$(1)="00060002":M$(2)="00070100":M$(3)="00080004":M$(4)="00000300":M$(5)="00110000":M$(6)="01000000":M$(7)="02140000"
11 M$(8)="03150000":M$(9)="00160000":M$(10)="00000011":M$(11)="05001012":M$(12)="00191100":M$(13)="00000014":M$(14)="07221300"
12 M$(15)="08000016":M$(16)="09251500":M$(17)="00250000":M$(18)="00270000":M$(19)="12290020":M$(20)="00001900":M$(21)="00310000"
13 M$(22)="14000023":M$(23)="00332200":M$(24)="00340025":M$(25)="16002400":M$(26)="17000027":M$(27)="18002600":M$(28)="00380029"
14 M$(29)="19002800":M$(30)="00400000":M$(31)="21410000":M$(32)="00420033":M$(33)="23433234":M$(34)="24003300":M$(35)="00450000"
15 M$(36)="00460000":M$(37)="00470038":M$(38)="28483700":M$(39)="00490000":M$(40)="30500000":M$(41)="31000042":M$(42)="32524100"
16 M$(43)="33000044":M$(44)="00534300":M$(45)="35540000":M$(46)="36550047":M$(47)="37564600":M$(48)="38000049":M$(49)="39574800"
17 M$(50)="40580000":M$(51)="00590000":M$(52)="42600000":M$(53)="44610054":M$(54)="45005300":M$(55)="46000000":M$(56)="47640000"
18 M$(57)="49000058":M$(58)="50665700":M$(59)="51670060":M$(60)="52005900":M$(61)="53000062":M$(62)="00706100":M$(63)="00720064"
19 M$(64)="56736300":M$(65)="00740066":M$(66)="58756500":M$(67)="59000068":M$(68)="00006700"
20 M$(69)="00000070":M$(70)="62006971":M$(71)="00007072":M$(72)="63007100":M$(73)="64000000":M$(74)="65000075":M$(75)="66007400"
24 'ROOM DESCRIPTIONS
25 R$(1)="ROOM # 1":R$(2)="ROOM # 2":R$(3)="ROOM # 3":R$(4)="ROOM # 4":R$(5)="ROOM # 5":R$(6)="ROOM # 6":R$(7)="ROOM # 7"
26 R$(8)="ROOM # 8":R$(9)="ROOM # 9":R$(10)="ROOM # 10":R$(11)="ROOM # 11":R$(12)="ROOM # 12":R$(13)="ROOM # 13":R$(14)="ROOM # 14"
27 R$(15)="ROOM # 15":R$(16)="ROOM # 16":R$(17)="ROOM # 17":R$(18)="ROOM # 18":R$(19)="ROOM # 19":R$(20)="ROOM # 20":R$(21)="ROOM # 21"
28 R$(22)="ROOM # 22":R$(23)="ROOM # 23":R$(24)="ROOM # 24":R$(25)="ROOM # 25":R$(26)="ROOM # 26":R$(27)="ROOM # 27":R$(28)="ROOM # 28"
29 R$(29)="ROOM # 29":R$(30)="ROOM # 30":R$(31)="ROOM # 31":R$(32)="ROOM # 32":R$(33)="ROOM # 33":R$(34)="ROOM # 34":R$(35)="ROOM # 35"
30 R$(36)="ROOM # 36":R$(37)="ROOM # 37":R$(38)="ROOM # 38":R$(39)="ROOM # 39":R$(40)="ROOM # 40":R$(41)="ROOM # 41":R$(42)="ROOM # 42"
31 R$(43)="ROOM # 43":R$(44)="ROOM # 44":R$(45)="ROOM # 45":R$(46)="ROOM # 46":R$(47)="ROOM # 47":R$(48)="ROOM # 48":R$(49)="ROOM # 49"
32 R$(50)="ROOM # 50":R$(51)="ROOM # 51":R$(52)="ROOM # 52":R$(53)="ROOM # 53":R$(54)="ROOM # 54":R$(55)="ROOM # 55":R$(56)="ROOM # 56"
33 R$(57)="ROOM # 57":R$(58)="ROOM # 58":R$(59)="ROOM # 59":R$(60)="ROOM # 60":R$(61)="ROOM # 61":R$(62)="ROOM # 62":R$(63)="ROOM # 63"
34 R$(64)="ROOM # 64":R$(65)="ROOM # 65":R$(66)="ROOM # 66":R$(67)="ROOM # 67":R$(68)="ROOM # 68":R$(69)="ROOM # 69":R$(70)="ROOM # 70"
35 R$(71)="ROOM # 71":R$(72)="ROOM # 72":R$(73)="ROOM # 73":R$(74)="ROOM # 74":R$(75)="ROOM # 75"
69 'OBJECTS (NOUNS)
70 FORA=1TO3:READO$(A):NEXTA
75 DATA BOOBLACK BOOK33,SOMSOMETHING00,OBJUSELESS OBJECT33
79 'DIRECTIONS
80 D$(1)="NORTH":D$(2)="SOUTH":D$(3)="WEST":D$(4)="EAST"
84 'COMMANDS (VERBS)
85 V$(1)="GO ":V$(2)="GET":V$(3)="TAK":V$(4)="DRO":V$(5)="HEL":V$(6)="LOO":V$(7)="EXA":V$(8)="SEA":V$(8)="USE":V$(9)="INV"
86 V$(15)="WEA":V$(16)="REA":V$(17)="PUS":V$(18)="PRE":V$(19)="GIV"
95 R=33
100 'ROOM DESCRIPTION
105 CLS:PRINT"oddYSSEY","MOVES:"MV:PRINT@32,Z$:PRINT@160,Z$:PRINT@224,Z$:PRINT@416,Z$:PRINT@40,"CURRENT LOCATION";:PRINT@169,"ESCAPE ROUTES:";
110 PRINT@64,;:PR$="YOU ARE "+R$(R)+".":GOSUB1000:PRINT@192,;
115 PRINT@192,;:A$="":FORA=0TO3:IFMID$(M$(R),A*2+1,2)<>"00"THENA$=A$+" "+D$(A+1)+" "
120 NEXTA:PRINTTAB((32-(LEN(A$)))/2)A$
125 FORA=8TO12:PRINT@32*A:NEXTA:PRINT@235,"=YOU SEE:=";:PRINT@256,;:B=1
130 FORA=1TO20:A$=O$(A):IFVAL(RIGHT$(A$,2))=R THENPRINTMID$(A$,4,LEN(A$)-5),:B=B+1:GOSUB1100
135 NEXTA:IFB=1THENPRINT@323,"NOTHING EXTREMELY UNUSUAL."
150 'COMMAND INPUT
155 PRINT@421,"MAY I TAKE YOUR ORDER?";:IN$="                                ":IN=0:PRINT@448,""
160 PRINT@448+IN,CHR$(175);:GOSUB1050:CH=ASC(A$):IFCH=0THEN160
165 IFCH=8THEN185
170 IFCH=13THEN180
175 PRINT@448+IN,A$;:IN=IN+1:MID$(IN$,IN,1)=A$:IFIN<32THEN160
180 PRINT@448+IN," ";:IN$=LEFT$(IN$,IN):PRINT@480,"                               ";:GOTO200
185 IFIN=0THEN160
190 IN=IN-1:PRINTA$:GOTO160
200 'LOCATE VERB & NOUN
205 V$="":N$="":IFIN$=""THEN155
210 FORA=1TOLEN(IN$):IFMID$(IN$,A,1)=" "THENNEXT:GOTO250
215 V$=MID$(IN$,A,3):B=A+2:IFB>LEN(IN$)THEN250
220 B=A:FORA=LEN(IN$)TOB+2STEP-1:IFMID$(IN$,A,1)=" "THENNEXT:GOTO250
225 IFMID$(IN$,A-1,1)<>" "THENNEXT:GOTO250
230 N$=MID$(IN$,A,3)
250 'GO TO ROUTINE
251 FORA=1TO4:IFN$=""THENIFV$=D$(A)ORV$=LEFT$(D$(A),1)THENV$=V$(1):N$=LEFT$(D$(A),3):GOTO255
252 NEXTA
255 FORA=1TO20:IFV$=V$(A)THEN265
260 NEXTA:PRINT@487,"I BEG YOUR PARDON?";:GOTO155
265 ONA GOTO300,350,350,400,450,500,500,500,550,600,650,700,750,750,800
300 'GO
305 FORA=1TO4:IFN$=LEFT$(D$(A),3)THEN315
310 NEXTA:PRINT@487,"GO WHERE? BE REAL!";:GOTO150
315 N=VAL(MID$(M$(R),A*2-1,2)):IFN=0THENPRINT@487,"^CHECK THE EXITS!^";:GOTO150
320 R=N:GOTO100
350 'GET/TAKE
355 FORA=1TO20:IFN$=LEFT$(O$(A),3)ANDVAL(RIGHT$(O$(A),2))=R THEN365
360 NEXTA:PRINT@486,"DO YOU SEE IT HERE??";:GOTO150
365 O$(A)=LEFT$(O$(A),LEN(O$(A))-2)+"00":PRINT@487,"OKAY, YOU GOT IT.";:GOTO125
400 'DROP
405 FORA=1TO20:IFN$=LEFT$(O$(A),3)ANDRIGHT$(O$(A),2)="00"THEN415
410 NEXTA:PRINT@482,"I DIDN'T THINK YOU HAD THAT.";:GOTO150
415 O$(A)=LEFT$(O$(A),LEN(O$(A))-2)+RIGHT$(STR$(R),2):PRINT@489,"YOU DROPED IT.";:GOTO125
450 'HELP
500 'LOOK/EXAMINE/SEARCH
505 IFN$=""ORN$="ROOM"THEN100
545 GOTO150
550 'USE
600 'INVENTORY
605 PRINT@235,"INVENTORY:";:FORA=8TO12:PRINT@32*A:NEXTA
610 PRINT@256,;:B=1:FORA=1TO20:A$=O$(A):IFRIGHT$(A$,2)="00"THENPRINTMID$(A$,4,LEN(A$)-5),:B=B+1
615 GOSUB1100:NEXTA:IFB=1THENPRINT@327,"ABSOLUTELY NOTHING."
620 GOTO150
650 'WEAR
700 'READ
750 'PUSH/PRESS
800 'GIVE
999 GOTO999
1000 'SCREEN OUTPUT
1005 IFLEN(PR$)<32THEN1030
1010 FORA=32TO1STEP-1:IFMID$(PR$,A,1)=" "THENB=A:GOTO1020
1015 NEXTA:GOTO1030
1020 PRINTLEFT$(PR$,B-1);:PR$=MID$(PR$,B+1):PRINT
1025 IFLEN(PR$)>32THEN1010
1030 PRINTPR$:RETURN
1050 'INKEY$
1055 A$=INKEY$:IFA$=""THEN1055
1060 RETURN
1100 'SCREEN PAUSE
1105 IFINT(B/11)<>B/11THENRETURN
1110 PRINT@419,"PRESS ANY KEY TO CONTINUE:";:GOSUB1050:FORC=8TO12:PRINT@32*C:NEXTC:PRINT@416,Z$;:PRINT@256,;
1115 RETURN
