0 RAM WAR ASM
10 L=
100 DATA 142,3,255,48,1,166,132,44,4,139,16,138,128,167,128,140,6,1,47,241,57
110 DATA -1


warasm fcb 142,3,255,48,1,166,132,44,4,139,16,138,128,167,128,140,6,1,47,241,57

    LDX #$03FF  * X=&H3FF (1023, byte before screen)
    LEAX $01,X  * X=X+1
 L4005
    LDA ,X      * A=PEEK(X)
    BGE L400D   * IF A<128 GOTO L400D
    ADDA #$10   * A=A+&H10:IF A>&HFF THEN A=A-&HFF
    ORA #$80    * A=A OR &H80
L400D
    STA ,X+     * POKE X,A:X=X+1
    CMPX #$0601 * Compare X to &H601 (two bytes past end)
    BLE L4005   * IF X<=&H601 GOTO L4005
    RTS         * RETURN


100 X=&H3FF
110 X=X+1
120 A=PEEK(X)
130 IF A<128 GOTO 160 'L400D
140 A=A+&H10:IF A>&HFF THEN A=A-&HFF
150 A=A OR &H80
160 POKE A,X:X=X+1
170 'Compare X to &H601
180 IF X<=&H601 GOTO 120 'L4005
190 RETURN
