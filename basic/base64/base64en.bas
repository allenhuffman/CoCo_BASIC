0 REM base64en.bas
5 POKE65395,0:GOSUB 1000
10 Z$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
20 READ A,B,C:IF A=-1 THEN END
25 PRINT A;B;C
29 REM A:xxxxxx--
30 Z=INT(A/4):'GOSUB 550
35 GOSUB 200
39 REM A:------xx B:xxxx----
40 Z=INT(A AND &H03)*16+INT(B/16):'GOSUB 550
45 GOSUB 200
49 REM            B:----xxxx C:xx------
50 Z=(B AND &H0F)*4 + INT(C/64):'GOSUB 550
55 GOSUB 200
59 REM                       C:--xxxxxx
60 Z=(C AND &H3F):'GOSUB 550
65 GOSUB 200

99 END

100 DATA &HFF,&H00,&HFF
110 DATA -1,-1,-1

200 PRINT MID$(Z$,Z,1);:RETURN

500 REM PRINT BITS
510 FOR ZB=7 TO 0 STEP -1
520 IF Z AND ZB(ZB) THEN PRINT"1"; ELSE PRINT "0";
530 NEXT:PRINT" ";
540 RETURN

550 REM PRINT 6-BITS BITS
560 FOR ZB=5 TO 0 STEP -1
570 IF Z AND ZB(ZB) THEN PRINT"1"; ELSE PRINT "0";
580 NEXT:PRINT" ";
590 RETURN

1000 REM INIT BIT ARRAY
1010 FOR ZB=0 TO 7
1020 ZB(ZB)=2^ZB
1030 NEXT
1040 RETURN
