* PACMAZE.ASM v1.00
* by Allen C. Huffman of Sub-Etha Software
* www.subethasoftware.com / alsplace@pobox.com
*
* DEFUSRx() ...description...
*
* INPUT:   ASCII character to clear screen to
* RETURNS: 0 is successful
*         -1 if error
*
* EXAMPLE:
*   CLEAR 200,&H3F00
*   DEFUSR0=&H3F00
*   A=USR0(42)
*   PRINT A
*
ORGADDR EQU     $3f00

POLCAT  EQU     $A000
INTCNV  EQU     $B3ED   * 46061
GIVABF  EQU     $B4F4   * 46324

        org     ORGADDR
start   jsr     INTCNV  * get passed in value in D
                        * D is made up of A and B, so if
                        * A has anything in it, it must be
                        * greater than 255.
        tsta            * test for zero
        bne     error   * branch if it is not zero

        ldx     #$400   * load X with start of screen
        ldy     #maze   * load Y with start of maze data

        ; insert code here


inkey   jsr     [POLCAT]
        bne     inkey        

        bra     return  * done
error   ldd     #-1     * load D with -1 for error code
return  jmp     GIVABF  * return to caller

mazew   FCB 88
mazeh   FCB 91
maze    FCB $3f,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$f0
        FCB $40,$00,$00,$00,$00,$00,$00,$00,$00,$00,$08
        FCB $9f,$ff,$ff,$ff,$ff,$87,$ff,$ff,$ff,$ff,$e4
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a4,$7f,$88,$ff,$e2,$49,$1f,$fc,$47,$f8,$94
        FCB $a0,$80,$41,$00,$10,$48,$20,$02,$08,$04,$14
        FCB $a4,$80,$41,$00,$10,$48,$20,$02,$08,$04,$94
        FCB $ae,$80,$49,$00,$12,$49,$20,$02,$48,$05,$d4
        FCB $a4,$80,$41,$00,$10,$48,$20,$02,$08,$04,$94
        FCB $a0,$80,$41,$00,$10,$48,$20,$02,$08,$04,$14
        FCB $a4,$7f,$88,$ff,$e2,$31,$1f,$fc,$47,$f8,$94
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a4,$7f,$88,$c4,$7f,$ff,$f8,$8c,$47,$f8,$94
        FCB $a0,$80,$41,$20,$80,$00,$04,$12,$08,$04,$14
        FCB $a0,$80,$41,$20,$80,$00,$04,$12,$08,$04,$14
        FCB $a4,$7f,$89,$24,$7f,$cf,$f8,$92,$47,$f8,$94
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $bf,$ff,$89,$1f,$e0,$48,$1f,$e2,$47,$ff,$f4
        FCB $80,$00,$41,$00,$10,$48,$20,$02,$08,$00,$04
        FCB $7f,$fe,$41,$00,$10,$48,$20,$02,$09,$ff,$f8
        FCB $00,$01,$49,$1f,$e0,$30,$1f,$e2,$4a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$49,$20,$00,$00,$00,$12,$4a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$49,$20,$ff,$ff,$fc,$12,$4a,$00,$00
        FCB $ff,$fe,$41,$20,$ff,$03,$fc,$12,$09,$ff,$fc
        FCB $00,$00,$41,$20,$c0,$00,$0c,$12,$08,$00,$00
        FCB $ff,$ff,$88,$c0,$c0,$00,$0c,$0c,$47,$ff,$fc
        FCB $00,$00,$00,$00,$c0,$00,$0c,$00,$00,$00,$00
        FCB $00,$00,$00,$00,$c0,$00,$0c,$00,$00,$00,$00
        FCB $00,$00,$08,$00,$c0,$00,$0c,$00,$40,$00,$00
        FCB $00,$00,$00,$00,$c0,$00,$0c,$00,$00,$00,$00
        FCB $00,$00,$00,$00,$c0,$00,$0c,$00,$00,$00,$00
        FCB $ff,$ff,$88,$c0,$c0,$00,$0c,$0c,$47,$ff,$fc
        FCB $00,$00,$41,$20,$c0,$00,$0c,$12,$08,$00,$00
        FCB $ff,$fe,$41,$20,$ff,$ff,$fc,$12,$09,$ff,$fc
        FCB $00,$01,$49,$20,$ff,$ff,$fc,$12,$4a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$49,$20,$00,$00,$00,$12,$4a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$41,$20,$00,$00,$00,$12,$0a,$00,$00
        FCB $00,$01,$49,$20,$7f,$ff,$f8,$12,$4a,$00,$00
        FCB $7f,$fe,$41,$20,$80,$00,$04,$12,$09,$ff,$f8
        FCB $80,$00,$41,$20,$80,$00,$04,$12,$08,$00,$04
        FCB $bf,$ff,$88,$c0,$7f,$cf,$f8,$0c,$47,$ff,$f4
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$48,$00,$00,$00,$00,$14
        FCB $a4,$7f,$88,$ff,$e2,$49,$1f,$fc,$47,$f8,$94
        FCB $a0,$80,$41,$00,$10,$48,$20,$02,$08,$04,$14
        FCB $a0,$80,$41,$00,$10,$48,$20,$02,$08,$04,$14
        FCB $a4,$7c,$48,$ff,$e2,$31,$1f,$fc,$48,$f8,$94
        FCB $a0,$02,$40,$00,$00,$00,$00,$00,$09,$00,$14
        FCB $a4,$02,$40,$00,$00,$00,$00,$00,$09,$00,$94
        FCB $ae,$92,$49,$24,$92,$01,$24,$92,$49,$25,$d4
        FCB $a4,$02,$40,$00,$00,$00,$00,$00,$09,$00,$94
        FCB $a0,$02,$40,$00,$00,$00,$00,$00,$09,$00,$14
        FCB $be,$12,$48,$c4,$7f,$ff,$f8,$8c,$49,$21,$f4
        FCB $81,$02,$41,$20,$80,$00,$04,$12,$09,$02,$04
        FCB $81,$02,$41,$20,$80,$00,$04,$12,$09,$02,$04
        FCB $be,$11,$89,$24,$7f,$8f,$f8,$92,$46,$21,$f4
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a0,$00,$01,$20,$00,$48,$00,$12,$00,$00,$14
        FCB $a4,$7f,$ff,$3f,$e2,$49,$1f,$f3,$ff,$f8,$94
        FCB $a0,$80,$00,$00,$10,$48,$20,$00,$00,$04,$14
        FCB $a0,$80,$00,$00,$10,$48,$20,$00,$00,$04,$14
        FCB $a4,$7f,$ff,$ff,$e2,$31,$1f,$ff,$ff,$f8,$94
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a4,$92,$49,$24,$92,$49,$24,$92,$49,$24,$94
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $a0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$14
        FCB $9f,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$e4
        FCB $40,$00,$00,$00,$00,$00,$00,$00,$00,$00,$08
        FCB $3f,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$f0
 
    end
  
* lwasm --decb -o pacmaze.bin pacmaze.asm
* lwasm --decb -f basic -o pacmaze.bas pacmaze.asm
* decb copy -2 -r pacmaze.bin ../Xroar/dsk/DRIVE0.DSK,pacmaze.BIN
